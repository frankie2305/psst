{"version":3,"sources":["contexts/AuthContext.js","contexts/ModalContext.js","contexts/UserContext.js","components/layout/NavBar.js","components/auth/SignupModal.js","components/auth/LoginModal.js","components/auth/LogoutModal.js","components/misc/EditModal.js","components/misc/DeleteModal.js","components/misc/Post.js","components/routes/Home.js","components/misc/User.js","components/routes/Users.js","components/routes/Profile.js","components/routes/Mention.js","components/routes/Hashtag.js","App.js","index.js"],"names":["AuthContext","createContext","AuthContextProvider","children","useState","isAuthenticated","setIsAuthenticated","Provider","value","ModalContext","ModalContextProvider","showSignup","setShowSignup","showLogin","setShowLogin","showLogout","setShowLogout","postId","setPostId","initialContent","setInitialContent","editedContent","setEditedContent","showEdit","setShowEdit","showDelete","setShowDelete","UserContext","UserContextProvider","user","setUser","CustomNavBar","useContext","useEffect","token","localStorage","getItem","fetch","headers","Authorization","then","res","json","data","error","removeItem","alert","catch","err","console","expand","bg","variant","sticky","Brand","href","Nav","Link","username","Toggle","aria-controls","Collapse","id","className","Text","to","Image","style","width","height","src","avatar","thumbnail","roundedCircle","fluid","Button","onClick","SignupSchema","yup","trim","required","min","password","test","length","_password","oneOf","SignupModal","setError","initialValues","validationSchema","onSubmit","values","actions","resetForm","method","body","JSON","stringify","setItem","props","hideSignup","setErrors","Modal","show","onHide","Header","closeButton","Title","Body","Form","Alert","onClose","dismissible","Group","Label","Control","type","placeholder","onChange","handleChange","onBlur","handleBlur","touched","errors","cursor","Footer","handleSubmit","LoginSchema","LoginModal","hideLogin","LogoutModal","window","location","reload","EditModal","hideEdit","e","target","timestamp","Date","getTime","content","disabled","DeleteModal","hideDelete","Post","post","fetchPosts","handleClickLike","Card","Subtitle","toLocaleString","dangerouslySetInnerHTML","__html","replace","Row","likes","includes","color","handleClickEdit","handleClickDelete","Home","posts","setPosts","setContent","Container","preventDefault","as","rows","block","map","key","User","currentUser","border","Img","Users","dataFetched","setDataFetched","users","setUsers","finally","CardColumns","Spinner","animation","Profile","match","params","setCurrentUser","followers","setFollowers","handleClick","Col","xs","md","Accordion","eventKey","ListGroup","follower","Item","action","follows","follow","Mention","mention","userExists","setUserExists","Hashtag","hashtag","App","exact","path","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.e7086dde.chunk.js","sourcesContent":["import React, { createContext, useState } from 'react';\r\n\r\nexport const AuthContext = createContext();\r\n\r\nexport const AuthContextProvider = ({ children }) => {\r\n\tconst [isAuthenticated, setIsAuthenticated] = useState(false);\r\n\r\n\treturn (\r\n\t\t<AuthContext.Provider value={{ isAuthenticated, setIsAuthenticated }}>\r\n\t\t\t{children}\r\n\t\t</AuthContext.Provider>\r\n\t);\r\n};\r\n","import React, { createContext, useState } from 'react';\r\n\r\nexport const ModalContext = createContext();\r\n\r\nexport const ModalContextProvider = ({ children }) => {\r\n\tconst [showSignup, setShowSignup] = useState(false);\r\n\tconst [showLogin, setShowLogin] = useState(false);\r\n\tconst [showLogout, setShowLogout] = useState(false);\r\n\tconst [postId, setPostId] = useState('');\r\n\tconst [initialContent, setInitialContent] = useState('');\r\n\tconst [editedContent, setEditedContent] = useState('');\r\n\tconst [showEdit, setShowEdit] = useState(false);\r\n\tconst [showDelete, setShowDelete] = useState(false);\r\n\r\n\treturn (\r\n\t\t<ModalContext.Provider\r\n\t\t\tvalue={{\r\n\t\t\t\tshowSignup,\r\n\t\t\t\tsetShowSignup,\r\n\t\t\t\tshowLogin,\r\n\t\t\t\tsetShowLogin,\r\n\t\t\t\tshowLogout,\r\n\t\t\t\tsetShowLogout,\r\n\t\t\t\tpostId,\r\n\t\t\t\tsetPostId,\r\n\t\t\t\tinitialContent,\r\n\t\t\t\tsetInitialContent,\r\n\t\t\t\teditedContent,\r\n\t\t\t\tsetEditedContent,\r\n\t\t\t\tshowEdit,\r\n\t\t\t\tsetShowEdit,\r\n\t\t\t\tshowDelete,\r\n\t\t\t\tsetShowDelete,\r\n\t\t\t}}>\r\n\t\t\t{children}\r\n\t\t</ModalContext.Provider>\r\n\t);\r\n};\r\n","import React, { createContext, useState } from 'react';\r\n\r\nexport const UserContext = createContext();\r\n\r\nexport const UserContextProvider = ({ children }) => {\r\n\tconst [user, setUser] = useState(null);\r\n\r\n\treturn (\r\n\t\t<UserContext.Provider value={{ user, setUser }}>\r\n\t\t\t{children}\r\n\t\t</UserContext.Provider>\r\n\t);\r\n};\r\n","import React, { useContext, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport NavBar from 'react-bootstrap/NavBar';\r\nimport Nav from 'react-bootstrap/Nav';\r\nimport Image from 'react-bootstrap/Image';\r\nimport Button from 'react-bootstrap/Button';\r\nimport { AuthContext } from '../../contexts/AuthContext';\r\nimport { ModalContext } from '../../contexts/ModalContext';\r\nimport { UserContext } from '../../contexts/UserContext';\r\n\r\nconst CustomNavBar = () => {\r\n\tconst { isAuthenticated, setIsAuthenticated } = useContext(AuthContext);\r\n\tconst { setShowSignup, setShowLogin, setShowLogout } = useContext(\r\n\t\tModalContext\r\n\t);\r\n\tconst { user, setUser } = useContext(UserContext);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst token = localStorage.getItem('token');\r\n\r\n\t\tif (token)\r\n\t\t\tfetch('/api/users/retrieve', {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `Bearer ${token}`,\r\n\t\t\t\t},\r\n\t\t\t})\r\n\t\t\t\t.then(res => res.json())\r\n\t\t\t\t.then(data => {\r\n\t\t\t\t\tif (data.error) {\r\n\t\t\t\t\t\tsetUser(null);\r\n\t\t\t\t\t\tlocalStorage.removeItem('token');\r\n\t\t\t\t\t\tsetIsAuthenticated(false);\r\n\t\t\t\t\t\talert(data.error);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tsetUser(data);\r\n\t\t\t\t\t\tsetIsAuthenticated(true);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => console.error(err));\r\n\t\telse setIsAuthenticated(false);\r\n\t});\r\n\r\n\treturn (\r\n\t\t<NavBar expand='lg' bg='dark' variant='dark' sticky='top'>\r\n\t\t\t<NavBar.Brand href='/'>¡Psst!</NavBar.Brand>\r\n\t\t\t<Nav.Link href='/'>Home</Nav.Link>\r\n\t\t\t<Nav.Link href='/users'>Users</Nav.Link>\r\n\t\t\t{isAuthenticated && (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<Nav.Link href={`/users/${user.username}`}>\r\n\t\t\t\t\t\tProfile\r\n\t\t\t\t\t</Nav.Link>\r\n\t\t\t\t</>\r\n\t\t\t)}\r\n\t\t\t<NavBar.Toggle aria-controls='nav' />\r\n\t\t\t<NavBar.Collapse id='nav' className='justify-content-end'>\r\n\t\t\t\t{isAuthenticated ? (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<NavBar.Text className='mr-3'>\r\n\t\t\t\t\t\t\tLogged in as{' '}\r\n\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\tto={`/users/${user.username}`}\r\n\t\t\t\t\t\t\t\tclassName='text-primary'>\r\n\t\t\t\t\t\t\t\t@{user.username}\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t</NavBar.Text>\r\n\t\t\t\t\t\t<Image\r\n\t\t\t\t\t\t\tstyle={{ width: 28, height: 28 }}\r\n\t\t\t\t\t\t\tclassName='mr-3'\r\n\t\t\t\t\t\t\tsrc={user.avatar}\r\n\t\t\t\t\t\t\tthumbnail\r\n\t\t\t\t\t\t\troundedCircle\r\n\t\t\t\t\t\t\tfluid\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tvariant='outline-primary'\r\n\t\t\t\t\t\t\tonClick={() => setShowLogout(true)}>\r\n\t\t\t\t\t\t\tLog out\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tvariant='outline-primary'\r\n\t\t\t\t\t\t\tonClick={() => setShowSignup(true)}\r\n\t\t\t\t\t\t\tclassName='mr-3'>\r\n\t\t\t\t\t\t\tSign up\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tvariant='outline-primary'\r\n\t\t\t\t\t\t\tonClick={() => setShowLogin(true)}>\r\n\t\t\t\t\t\t\tLog in\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\t\t\t</NavBar.Collapse>\r\n\t\t</NavBar>\r\n\t);\r\n};\r\n\r\nexport default CustomNavBar;\r\n","import React, { useContext, useState } from 'react';\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport Form from 'react-bootstrap/Form';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Alert from 'react-bootstrap/Alert';\r\nimport { Formik } from 'formik';\r\nimport * as yup from 'yup';\r\nimport { AuthContext } from '../../contexts/AuthContext';\r\nimport { ModalContext } from '../../contexts/ModalContext';\r\nimport { UserContext } from '../../contexts/UserContext';\r\n\r\nconst SignupSchema = yup.object({\r\n\tusername: yup\r\n\t\t.string()\r\n\t\t.trim()\r\n\t\t.required('Username is required')\r\n\t\t.min(5, 'Username must be at least 5 characters long'),\r\n\tpassword: yup\r\n\t\t.string()\r\n\t\t.trim()\r\n\t\t.required('Password is required')\r\n\t\t.test(\r\n\t\t\t'length',\r\n\t\t\t'Password must be between 8 and 20 characters long',\r\n\t\t\tvalue => value && value.length >= 8 && value.length <= 20\r\n\t\t),\r\n\t_password: yup\r\n\t\t.string()\r\n\t\t.trim()\r\n\t\t.required('Password confirmation is required')\r\n\t\t.oneOf([yup.ref('password')], 'Passwords must match'),\r\n});\r\n\r\nconst SignupModal = () => {\r\n\tconst { setIsAuthenticated } = useContext(AuthContext);\r\n\tconst { showSignup, setShowSignup, setShowLogin } = useContext(\r\n\t\tModalContext\r\n\t);\r\n\tconst { setUser } = useContext(UserContext);\r\n\tconst [error, setError] = useState('');\r\n\r\n\treturn (\r\n\t\t<Formik\r\n\t\t\tinitialValues={{ username: '', password: '', _password: '' }}\r\n\t\t\tvalidationSchema={SignupSchema}\r\n\t\t\tonSubmit={(values, actions) => {\r\n\t\t\t\tactions.resetForm();\r\n\r\n\t\t\t\tfetch('/api/users/signup', {\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t\t},\r\n\t\t\t\t\tbody: JSON.stringify(values),\r\n\t\t\t\t})\r\n\t\t\t\t\t.then(res => res.json())\r\n\t\t\t\t\t.then(data => {\r\n\t\t\t\t\t\tif (data.error) setError(data.error);\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\tsetUser(data.user);\r\n\t\t\t\t\t\t\tlocalStorage.setItem('token', data.token);\r\n\t\t\t\t\t\t\tsetShowSignup(false);\r\n\t\t\t\t\t\t\tsetIsAuthenticated(true);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(err => console.error(err));\r\n\t\t\t}}>\r\n\t\t\t{props => {\r\n\t\t\t\tconst hideSignup = () => {\r\n\t\t\t\t\tprops.resetForm();\r\n\t\t\t\t\tprops.setErrors({});\r\n\t\t\t\t\tsetShowSignup(false);\r\n\t\t\t\t};\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Modal show={showSignup} onHide={hideSignup}>\r\n\t\t\t\t\t\t<Modal.Header closeButton>\r\n\t\t\t\t\t\t\t<Modal.Title>Signup Form</Modal.Title>\r\n\t\t\t\t\t\t</Modal.Header>\r\n\t\t\t\t\t\t<Modal.Body>\r\n\t\t\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t\t\t<Alert\r\n\t\t\t\t\t\t\t\t\tvariant='danger'\r\n\t\t\t\t\t\t\t\t\tshow={error ? true : false}\r\n\t\t\t\t\t\t\t\t\tonClose={() => setError('')}\r\n\t\t\t\t\t\t\t\t\tdismissible>\r\n\t\t\t\t\t\t\t\t\t{error}\r\n\t\t\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t\t<Form.Label>Username</Form.Label>\r\n\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\t\tplaceholder='Enter username'\r\n\t\t\t\t\t\t\t\t\t\tvalue={props.values.username}\r\n\t\t\t\t\t\t\t\t\t\tonChange={props.handleChange(\r\n\t\t\t\t\t\t\t\t\t\t\t'username'\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\tonBlur={props.handleBlur(\r\n\t\t\t\t\t\t\t\t\t\t\t'username'\r\n\t\t\t\t\t\t\t\t\t\t)}></Form.Control>\r\n\t\t\t\t\t\t\t\t\t<Form.Text className='text-danger'>\r\n\t\t\t\t\t\t\t\t\t\t{props.touched.username &&\r\n\t\t\t\t\t\t\t\t\t\t\tprops.errors.username}\r\n\t\t\t\t\t\t\t\t\t</Form.Text>\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t\t<Form.Label>Password</Form.Label>\r\n\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\t\t\t\t\tplaceholder='Enter password'\r\n\t\t\t\t\t\t\t\t\t\tvalue={props.values.password}\r\n\t\t\t\t\t\t\t\t\t\tonChange={props.handleChange(\r\n\t\t\t\t\t\t\t\t\t\t\t'password'\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\tonBlur={props.handleBlur(\r\n\t\t\t\t\t\t\t\t\t\t\t'password'\r\n\t\t\t\t\t\t\t\t\t\t)}></Form.Control>\r\n\t\t\t\t\t\t\t\t\t<Form.Text className='text-danger'>\r\n\t\t\t\t\t\t\t\t\t\t{props.touched.password &&\r\n\t\t\t\t\t\t\t\t\t\t\tprops.errors.password}\r\n\t\t\t\t\t\t\t\t\t</Form.Text>\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t\t<Form.Label>Confirm Password</Form.Label>\r\n\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\t\t\t\t\tplaceholder='Re-enter password'\r\n\t\t\t\t\t\t\t\t\t\tvalue={props.values._password}\r\n\t\t\t\t\t\t\t\t\t\tonChange={props.handleChange(\r\n\t\t\t\t\t\t\t\t\t\t\t'_password'\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\tonBlur={props.handleBlur(\r\n\t\t\t\t\t\t\t\t\t\t\t'_password'\r\n\t\t\t\t\t\t\t\t\t\t)}></Form.Control>\r\n\t\t\t\t\t\t\t\t\t<Form.Text className='text-danger'>\r\n\t\t\t\t\t\t\t\t\t\t{props.touched._password &&\r\n\t\t\t\t\t\t\t\t\t\t\tprops.errors._password}\r\n\t\t\t\t\t\t\t\t\t</Form.Text>\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t<Form.Text className='text-muted'>\r\n\t\t\t\t\t\t\t\t\tAlready have an account? Log in{' '}\r\n\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ cursor: 'pointer' }}\r\n\t\t\t\t\t\t\t\t\t\tclassName='text-primary'\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\thideSignup();\r\n\t\t\t\t\t\t\t\t\t\t\tsetShowLogin(true);\r\n\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\there\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t.\r\n\t\t\t\t\t\t\t\t</Form.Text>\r\n\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t</Modal.Body>\r\n\t\t\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t\t\t<Button variant='secondary' onClick={hideSignup}>\r\n\t\t\t\t\t\t\t\tCancel\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tvariant='primary'\r\n\t\t\t\t\t\t\t\tonClick={props.handleSubmit}>\r\n\t\t\t\t\t\t\t\tSubmit\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Modal.Footer>\r\n\t\t\t\t\t</Modal>\r\n\t\t\t\t);\r\n\t\t\t}}\r\n\t\t</Formik>\r\n\t);\r\n};\r\n\r\nexport default SignupModal;\r\n","import React, { useContext, useState } from 'react';\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport Form from 'react-bootstrap/Form';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Alert from 'react-bootstrap/Alert';\r\nimport { Formik } from 'formik';\r\nimport * as yup from 'yup';\r\nimport { AuthContext } from '../../contexts/AuthContext';\r\nimport { ModalContext } from '../../contexts/ModalContext';\r\nimport { UserContext } from '../../contexts/UserContext';\r\n\r\nconst LoginSchema = yup.object({\r\n\tusername: yup.string().trim().required('Username is required'),\r\n\tpassword: yup.string().trim().required('Password is required'),\r\n});\r\n\r\nconst LoginModal = () => {\r\n\tconst { setIsAuthenticated } = useContext(AuthContext);\r\n\tconst { showLogin, setShowLogin, setShowSignup } = useContext(ModalContext);\r\n\tconst { setUser } = useContext(UserContext);\r\n\tconst [error, setError] = useState('');\r\n\r\n\treturn (\r\n\t\t<Formik\r\n\t\t\tinitialValues={{ username: '', password: '' }}\r\n\t\t\tvalidationSchema={LoginSchema}\r\n\t\t\tonSubmit={(values, actions) => {\r\n\t\t\t\tactions.resetForm();\r\n\r\n\t\t\t\tfetch('/api/users/login', {\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t\t},\r\n\t\t\t\t\tbody: JSON.stringify(values),\r\n\t\t\t\t})\r\n\t\t\t\t\t.then(res => res.json())\r\n\t\t\t\t\t.then(data => {\r\n\t\t\t\t\t\tif (data.error) setError(data.error);\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\tsetUser(data.user);\r\n\t\t\t\t\t\t\tlocalStorage.setItem('token', data.token);\r\n\t\t\t\t\t\t\tsetShowLogin(false);\r\n\t\t\t\t\t\t\tsetIsAuthenticated(true);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(err => console.error(err));\r\n\t\t\t}}>\r\n\t\t\t{props => {\r\n\t\t\t\tconst hideLogin = () => {\r\n\t\t\t\t\tprops.resetForm();\r\n\t\t\t\t\tprops.setErrors({});\r\n\t\t\t\t\tsetShowLogin(false);\r\n\t\t\t\t};\r\n\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Modal show={showLogin} onHide={hideLogin}>\r\n\t\t\t\t\t\t<Modal.Header closeButton>\r\n\t\t\t\t\t\t\t<Modal.Title>Login Form</Modal.Title>\r\n\t\t\t\t\t\t</Modal.Header>\r\n\t\t\t\t\t\t<Modal.Body>\r\n\t\t\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t\t\t<Alert\r\n\t\t\t\t\t\t\t\t\tvariant='danger'\r\n\t\t\t\t\t\t\t\t\tshow={error ? true : false}\r\n\t\t\t\t\t\t\t\t\tonClose={() => setError('')}\r\n\t\t\t\t\t\t\t\t\tdismissible>\r\n\t\t\t\t\t\t\t\t\t{error}\r\n\t\t\t\t\t\t\t\t</Alert>\r\n\t\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t\t<Form.Label>Username</Form.Label>\r\n\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\t\tplaceholder='Enter username'\r\n\t\t\t\t\t\t\t\t\t\tvalue={props.values.username}\r\n\t\t\t\t\t\t\t\t\t\tonChange={props.handleChange(\r\n\t\t\t\t\t\t\t\t\t\t\t'username'\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\tonBlur={props.handleBlur(\r\n\t\t\t\t\t\t\t\t\t\t\t'username'\r\n\t\t\t\t\t\t\t\t\t\t)}></Form.Control>\r\n\t\t\t\t\t\t\t\t\t<Form.Text className='text-danger'>\r\n\t\t\t\t\t\t\t\t\t\t{props.touched.username &&\r\n\t\t\t\t\t\t\t\t\t\t\tprops.errors.username}\r\n\t\t\t\t\t\t\t\t\t</Form.Text>\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t\t<Form.Label>Password</Form.Label>\r\n\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\t\t\t\t\tplaceholder='Enter password'\r\n\t\t\t\t\t\t\t\t\t\tvalue={props.values.password}\r\n\t\t\t\t\t\t\t\t\t\tonChange={props.handleChange(\r\n\t\t\t\t\t\t\t\t\t\t\t'password'\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\tonBlur={props.handleBlur(\r\n\t\t\t\t\t\t\t\t\t\t\t'password'\r\n\t\t\t\t\t\t\t\t\t\t)}></Form.Control>\r\n\t\t\t\t\t\t\t\t\t<Form.Text className='text-danger'>\r\n\t\t\t\t\t\t\t\t\t\t{props.touched.password &&\r\n\t\t\t\t\t\t\t\t\t\t\tprops.errors.password}\r\n\t\t\t\t\t\t\t\t\t</Form.Text>\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t<Form.Text className='text-muted'>\r\n\t\t\t\t\t\t\t\t\tDon't have an account? Sign up{' '}\r\n\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ cursor: 'pointer' }}\r\n\t\t\t\t\t\t\t\t\t\tclassName='text-primary'\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\thideLogin();\r\n\t\t\t\t\t\t\t\t\t\t\tsetShowSignup(true);\r\n\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\there\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t.\r\n\t\t\t\t\t\t\t\t</Form.Text>\r\n\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t</Modal.Body>\r\n\t\t\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t\t\t<Button variant='secondary' onClick={hideLogin}>\r\n\t\t\t\t\t\t\t\tCancel\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tvariant='primary'\r\n\t\t\t\t\t\t\t\tonClick={props.handleSubmit}>\r\n\t\t\t\t\t\t\t\tSubmit\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Modal.Footer>\r\n\t\t\t\t\t</Modal>\r\n\t\t\t\t);\r\n\t\t\t}}\r\n\t\t</Formik>\r\n\t);\r\n};\r\n\r\nexport default LoginModal;\r\n","import React, { useContext } from 'react';\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport Button from 'react-bootstrap/Button';\r\nimport { AuthContext } from '../../contexts/AuthContext';\r\nimport { ModalContext } from '../../contexts/ModalContext';\r\nimport { UserContext } from '../../contexts/UserContext';\r\n\r\nconst LogoutModal = () => {\r\n\tconst { setIsAuthenticated } = useContext(AuthContext);\r\n\tconst { showLogout, setShowLogout } = useContext(ModalContext);\r\n\tconst { setUser } = useContext(UserContext);\r\n\r\n\treturn (\r\n\t\t<Modal show={showLogout} onHide={() => setShowLogout(false)}>\r\n\t\t\t<Modal.Header closeButton>\r\n\t\t\t\t<Modal.Title>Logging Out</Modal.Title>\r\n\t\t\t</Modal.Header>\r\n\t\t\t<Modal.Body>Are you sure you want to log out?</Modal.Body>\r\n\t\t\t<Modal.Footer>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant='secondary'\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tsetUser(null);\r\n\t\t\t\t\t\tlocalStorage.removeItem('token');\r\n\t\t\t\t\t\tsetShowLogout(false);\r\n\t\t\t\t\t\tsetIsAuthenticated(false);\r\n\t\t\t\t\t\twindow.location.reload();\r\n\t\t\t\t\t}}>\r\n\t\t\t\t\tSure, let me log out\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Button variant='primary' onClick={() => setShowLogout(false)}>\r\n\t\t\t\t\tNah, I changed my mind\r\n\t\t\t\t</Button>\r\n\t\t\t</Modal.Footer>\r\n\t\t</Modal>\r\n\t);\r\n};\r\n\r\nexport default LogoutModal;\r\n","import React, { useContext } from 'react';\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport Form from 'react-bootstrap/Form';\r\nimport Button from 'react-bootstrap/Button';\r\nimport { ModalContext } from '../../contexts/ModalContext';\r\n\r\nconst EditModal = () => {\r\n\tconst {\r\n\t\tpostId,\r\n\t\tsetPostId,\r\n\t\tinitialContent,\r\n\t\tsetInitialContent,\r\n\t\teditedContent,\r\n\t\tsetEditedContent,\r\n\t\tshowEdit,\r\n\t\tsetShowEdit,\r\n\t} = useContext(ModalContext);\r\n\r\n\tconst hideEdit = () => {\r\n\t\tsetPostId('');\r\n\t\tsetInitialContent('');\r\n\t\tsetEditedContent('');\r\n\t\tsetShowEdit(false);\r\n\t};\r\n\r\n\tconst handleChange = e => {\r\n\t\tsetEditedContent(e.target.value);\r\n\t};\r\n\r\n\tconst handleSubmit = () => {\r\n\t\tfetch(`/api/posts/${postId}`, {\r\n\t\t\tmethod: 'PUT',\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `Bearer ${localStorage.getItem('token')}`,\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t},\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\ttimestamp: new Date().getTime(),\r\n\t\t\t\tcontent: editedContent,\r\n\t\t\t}),\r\n\t\t})\r\n\t\t\t.then(res => res.json())\r\n\t\t\t.then(data => {\r\n\t\t\t\thideEdit();\r\n\t\t\t\tif (data.error) alert(data.error);\r\n\t\t\t\telse window.location.reload();\r\n\t\t\t})\r\n\t\t\t.catch(err => console.error(err));\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Modal show={showEdit} onHide={hideEdit}>\r\n\t\t\t<Modal.Header closeButton>\r\n\t\t\t\t<Modal.Title>Edit Post</Modal.Title>\r\n\t\t\t</Modal.Header>\r\n\t\t\t<Modal.Body>\r\n\t\t\t\t<Form>\r\n\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\tplaceholder=\"What's on your mind?\"\r\n\t\t\t\t\t\t\tvalue={editedContent}\r\n\t\t\t\t\t\t\tonChange={handleChange}></Form.Control>\r\n\t\t\t\t\t</Form.Group>\r\n\t\t\t\t</Form>\r\n\t\t\t</Modal.Body>\r\n\t\t\t<Modal.Footer>\r\n\t\t\t\t<Button variant='secondary' onClick={hideEdit}>\r\n\t\t\t\t\tCancel\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant='primary'\r\n\t\t\t\t\tonClick={handleSubmit}\r\n\t\t\t\t\tdisabled={\r\n\t\t\t\t\t\teditedContent === initialContent ||\r\n\t\t\t\t\t\teditedContent.length === 0\r\n\t\t\t\t\t}>\r\n\t\t\t\t\tSubmit\r\n\t\t\t\t</Button>\r\n\t\t\t</Modal.Footer>\r\n\t\t</Modal>\r\n\t);\r\n};\r\n\r\nexport default EditModal;\r\n","import React, { useContext } from 'react';\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport Button from 'react-bootstrap/Button';\r\nimport { ModalContext } from '../../contexts/ModalContext';\r\n\r\nconst DeleteModal = () => {\r\n\tconst { postId, setPostId, showDelete, setShowDelete } = useContext(\r\n\t\tModalContext\r\n\t);\r\n\r\n\tconst hideDelete = () => {\r\n\t\tsetPostId('');\r\n\t\tsetShowDelete(false);\r\n\t};\r\n\r\n\tconst handleSubmit = () => {\r\n\t\tfetch(`/api/posts/${postId}`, {\r\n\t\t\tmethod: 'DELETE',\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `Bearer ${localStorage.getItem('token')}`,\r\n\t\t\t},\r\n\t\t})\r\n\t\t\t.then(res => res.json())\r\n\t\t\t.then(data => {\r\n\t\t\t\thideDelete();\r\n\t\t\t\tif (data.error) alert(data.error);\r\n\t\t\t\telse window.location.reload();\r\n\t\t\t})\r\n\t\t\t.catch(err => console.error(err));\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Modal show={showDelete} onHide={hideDelete}>\r\n\t\t\t<Modal.Header closeButton>\r\n\t\t\t\t<Modal.Title>Delete Post</Modal.Title>\r\n\t\t\t</Modal.Header>\r\n\t\t\t<Modal.Body>\r\n\t\t\t\tAre you sure you want to delete this post? This action is\r\n\t\t\t\tirreversible.\r\n\t\t\t</Modal.Body>\r\n\t\t\t<Modal.Footer>\r\n\t\t\t\t<Button variant='danger' onClick={handleSubmit}>\r\n\t\t\t\t\tSure, please delete it\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Button variant='success' onClick={hideDelete}>\r\n\t\t\t\t\tNah, please keep it\r\n\t\t\t\t</Button>\r\n\t\t\t</Modal.Footer>\r\n\t\t</Modal>\r\n\t);\r\n};\r\n\r\nexport default DeleteModal;\r\n","import React, { useContext } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Card from 'react-bootstrap/Card';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Button from 'react-bootstrap/Button';\r\nimport ThumbUpIcon from '@material-ui/icons/ThumbUp';\r\nimport ThumbUpOutlinedIcon from '@material-ui/icons/ThumbUpOutlined';\r\nimport { AuthContext } from '../../contexts/AuthContext';\r\nimport { ModalContext } from '../../contexts/ModalContext';\r\nimport { UserContext } from '../../contexts/UserContext';\r\n\r\nconst Post = ({ post, fetchPosts }) => {\r\n\tconst { isAuthenticated } = useContext(AuthContext);\r\n\tconst {\r\n\t\tsetPostId,\r\n\t\tsetShowEdit,\r\n\t\tsetShowDelete,\r\n\t\tsetInitialContent,\r\n\t\tsetEditedContent,\r\n\t} = useContext(ModalContext);\r\n\tconst { user } = useContext(UserContext);\r\n\r\n\tconst handleClickLike = post => {\r\n\t\tfetch(`/api/posts/${post.id}/likes`, {\r\n\t\t\tmethod: 'PUT',\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `Bearer ${localStorage.getItem('token')}`,\r\n\t\t\t},\r\n\t\t})\r\n\t\t\t.then(res => res.json())\r\n\t\t\t.then(data => {\r\n\t\t\t\tif (data.error) alert(data.error);\r\n\t\t\t\telse fetchPosts();\r\n\t\t\t})\r\n\t\t\t.catch(err => console.error(err));\r\n\t};\r\n\r\n\tconst handleClickEdit = post => {\r\n\t\tsetPostId(post.id);\r\n\t\tsetInitialContent(post.content);\r\n\t\tsetEditedContent(post.content);\r\n\t\tsetShowEdit(true);\r\n\t};\r\n\r\n\tconst handleClickDelete = post => {\r\n\t\tsetPostId(post.id);\r\n\t\tsetShowDelete(true);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Card>\r\n\t\t\t\t<Card.Header>\r\n\t\t\t\t\t<Card.Title className='text-primary'>\r\n\t\t\t\t\t\t<Link to={`/users/${post.user.username}`}>\r\n\t\t\t\t\t\t\t@{post.user.username}\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t</Card.Title>\r\n\t\t\t\t</Card.Header>\r\n\t\t\t\t<Card.Body>\r\n\t\t\t\t\t<Card.Subtitle className='text-muted'>\r\n\t\t\t\t\t\t{new Date(post.timestamp).toLocaleString()}\r\n\t\t\t\t\t</Card.Subtitle>\r\n\t\t\t\t\t<Card.Text\r\n\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t__html: post.content\r\n\t\t\t\t\t\t\t\t.replace(\r\n\t\t\t\t\t\t\t\t\t/@(\\w+)/g,\r\n\t\t\t\t\t\t\t\t\t'<a href=\"/users/$1\" class=\"text-info\">@$1</a>'\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t.replace(\r\n\t\t\t\t\t\t\t\t\t/#(\\w+)/g,\r\n\t\t\t\t\t\t\t\t\t'<a href=\"/hashtags/$1\" class=\"text-warning\">#$1</a>'\r\n\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Card.Body>\r\n\t\t\t\t{isAuthenticated ? (\r\n\t\t\t\t\t<Card.Footer>\r\n\t\t\t\t\t\t<Row className='justify-content-between'>\r\n\t\t\t\t\t\t\t<Row className='align-items-center'>\r\n\t\t\t\t\t\t\t\t{post.likes.includes(user.id) ? (\r\n\t\t\t\t\t\t\t\t\t<ThumbUpIcon\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ cursor: 'pointer' }}\r\n\t\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\t\tclassName='ml-4 mr-4'\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => handleClickLike(post)}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<ThumbUpOutlinedIcon\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ cursor: 'pointer' }}\r\n\t\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\t\tclassName='ml-4 mr-4'\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => handleClickLike(post)}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t{post.likes.length > 0 ? (\r\n\t\t\t\t\t\t\t\t\t<Card.Text className='text-muted small'>\r\n\t\t\t\t\t\t\t\t\t\tLiked by {post.likes.length} people{' '}\r\n\t\t\t\t\t\t\t\t\t</Card.Text>\r\n\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t{post.user.id === user.id ? (\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\tvariant='success'\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => handleClickEdit(post)}>\r\n\t\t\t\t\t\t\t\t\t\tEdit\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\tvariant='danger'\r\n\t\t\t\t\t\t\t\t\t\tclassName='ml-2 mr-2'\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => handleClickDelete(post)}>\r\n\t\t\t\t\t\t\t\t\t\tDelete\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t</Card.Footer>\r\n\t\t\t\t) : null}\r\n\t\t\t</Card>\r\n\t\t\t<br />\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default Post;\r\n","import React, { useContext, useEffect, useState } from 'react';\r\nimport Container from 'react-bootstrap/Container';\r\nimport Form from 'react-bootstrap/Form';\r\nimport Button from 'react-bootstrap/Button';\r\nimport { AuthContext } from '../../contexts/AuthContext';\r\nimport Post from '../misc/Post';\r\n\r\nconst Home = () => {\r\n\tconst { isAuthenticated } = useContext(AuthContext);\r\n\tconst [posts, setPosts] = useState([]);\r\n\tconst [content, setContent] = useState('');\r\n\r\n\tconst fetchPosts = () => {\r\n\t\tfetch('/api/posts')\r\n\t\t\t.then(res => res.json())\r\n\t\t\t.then(data => setPosts(data))\r\n\t\t\t.catch(err => console.error(err));\r\n\t};\r\n\r\n\tuseEffect(fetchPosts);\r\n\r\n\tconst handleChange = e => {\r\n\t\tsetContent(e.target.value);\r\n\t};\r\n\r\n\tconst handleSubmit = e => {\r\n\t\te.preventDefault();\r\n\t\tfetch('/api/posts', {\r\n\t\t\tmethod: 'POST',\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `Bearer ${localStorage.getItem('token')}`,\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t},\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\ttimestamp: new Date().getTime(),\r\n\t\t\t\tcontent,\r\n\t\t\t}),\r\n\t\t})\r\n\t\t\t.then(res => res.json())\r\n\t\t\t.then(data => {\r\n\t\t\t\tsetContent('');\r\n\t\t\t\tif (data.error) alert(data.error);\r\n\t\t\t\telse fetchPosts();\r\n\t\t\t})\r\n\t\t\t.catch(err => console.error(err));\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Container>\r\n\t\t\t<br />\r\n\t\t\t<h1 className='text-center text-primary'>Home</h1>\r\n\t\t\t<br />\r\n\t\t\t{isAuthenticated && (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<Form onSubmit={handleSubmit}>\r\n\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\tas='textarea'\r\n\t\t\t\t\t\t\t\trows={3}\r\n\t\t\t\t\t\t\t\tplaceholder=\"What's on your mind?\"\r\n\t\t\t\t\t\t\t\tvalue={content}\r\n\t\t\t\t\t\t\t\tonChange={handleChange}></Form.Control>\r\n\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tvariant='primary'\r\n\t\t\t\t\t\t\ttype='submit'\r\n\t\t\t\t\t\t\tblock\r\n\t\t\t\t\t\t\tdisabled={!content}>\r\n\t\t\t\t\t\t\tSubmit\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t</>\r\n\t\t\t)}\r\n\t\t\t{posts.map(post => (\r\n\t\t\t\t<Post key={post.id} post={post} fetchPosts={fetchPosts} />\r\n\t\t\t))}\r\n\t\t\t<br />\r\n\t\t</Container>\r\n\t);\r\n};\r\n\r\nexport default Home;\r\n","import React, { useContext } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Card from 'react-bootstrap/Card';\r\nimport { UserContext } from '../../contexts/UserContext';\r\n\r\nconst User = ({ user }) => {\r\n\tconst { user: currentUser } = useContext(UserContext);\r\n\r\n\treturn (\r\n\t\t<Link to={`/users/${user.username}`}>\r\n\t\t\t<Card\r\n\t\t\t\tborder={currentUser && user.id === currentUser.id && 'primary'}>\r\n\t\t\t\t<Card.Img variant='top' src={user.avatar}></Card.Img>\r\n\t\t\t\t<Card.Body>\r\n\t\t\t\t\t<Card.Title className='text-center text-primary'>\r\n\t\t\t\t\t\t@{user.username}\r\n\t\t\t\t\t</Card.Title>\r\n\t\t\t\t</Card.Body>\r\n\t\t\t</Card>\r\n\t\t</Link>\r\n\t);\r\n};\r\n\r\nexport default User;\r\n","import React, { useEffect, useState } from 'react';\r\nimport Spinner from 'react-bootstrap/Spinner';\r\nimport Container from 'react-bootstrap/Container';\r\nimport CardColumns from 'react-bootstrap/CardColumns';\r\nimport User from '../misc/User';\r\n\r\nconst Users = () => {\r\n\tconst [dataFetched, setDataFetched] = useState(false);\r\n\tconst [users, setUsers] = useState([]);\r\n\r\n\tuseEffect(() => {\r\n\t\tfetch('/api/users')\r\n\t\t\t.then(res => res.json())\r\n\t\t\t.then(data => setUsers(data))\r\n\t\t\t.catch(err => console.error(err))\r\n\t\t\t.finally(() => setDataFetched(true));\r\n\t});\r\n\r\n\tif (dataFetched)\r\n\t\treturn (\r\n\t\t\t<Container>\r\n\t\t\t\t<br />\r\n\t\t\t\t<h1 className='text-center text-primary'>Users</h1>\r\n\t\t\t\t<br />\r\n\t\t\t\t<CardColumns>\r\n\t\t\t\t\t{users.map(user => (\r\n\t\t\t\t\t\t<User key={user.id} user={user} />\r\n\t\t\t\t\t))}\r\n\t\t\t\t</CardColumns>\r\n\t\t\t\t<br />\r\n\t\t\t</Container>\r\n\t\t);\r\n\telse\r\n\t\treturn (\r\n\t\t\t<div className='d-flex justify-content-center'>\r\n\t\t\t\t<Spinner animation='border' variant='primary' />\r\n\t\t\t</div>\r\n\t\t);\r\n};\r\n\r\nexport default Users;\r\n","import React, { useContext, useEffect, useState } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport Spinner from 'react-bootstrap/Spinner';\r\nimport Container from 'react-bootstrap/Container';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Accordion from 'react-bootstrap/Accordion';\r\nimport Card from 'react-bootstrap/Card';\r\nimport Button from 'react-bootstrap/Button';\r\nimport ListGroup from 'react-bootstrap/ListGroup';\r\nimport { AuthContext } from '../../contexts/AuthContext';\r\nimport { UserContext } from '../../contexts/UserContext';\r\nimport Post from '../misc/Post';\r\nimport User from '../misc/User';\r\n\r\nconst Profile = ({ match }) => {\r\n\tconst { username } = match.params;\r\n\tconst { isAuthenticated } = useContext(AuthContext);\r\n\tconst { user: currentUser, setUser: setCurrentUser } = useContext(\r\n\t\tUserContext\r\n\t);\r\n\tconst [dataFetched, setDataFetched] = useState(false);\r\n\tconst [user, setUser] = useState(null);\r\n\tconst [posts, setPosts] = useState([]);\r\n\tconst [followers, setFollowers] = useState([]);\r\n\r\n\tconst fetchPosts = () => {\r\n\t\tfetch(`/api/posts/users/${username}`)\r\n\t\t\t.then(res => res.json())\r\n\t\t\t.then(data => setPosts(data))\r\n\t\t\t.catch(err => console.error(err));\r\n\t};\r\n\r\n\tconst fetchFollowers = () => {\r\n\t\tfetch(`/api/users/${username}/followers`)\r\n\t\t\t.then(res => res.json())\r\n\t\t\t.then(data => setFollowers(data))\r\n\t\t\t.catch(err => console.error(err));\r\n\t};\r\n\r\n\tconst handleClick = () => {\r\n\t\tfetch(`/api/users/${username}/follows`, {\r\n\t\t\tmethod: 'PUT',\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `Bearer ${localStorage.getItem('token')}`,\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t},\r\n\t\t})\r\n\t\t\t.then(res => res.json())\r\n\t\t\t.then(data => {\r\n\t\t\t\tif (data.error) alert(data.error);\r\n\t\t\t\telse setCurrentUser(data);\r\n\t\t\t})\r\n\t\t\t.catch(err => console.error(err));\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tfetch(`/api/users/${username}`)\r\n\t\t\t.then(res => res.json())\r\n\t\t\t.then(data => {\r\n\t\t\t\tif (!data.error) {\r\n\t\t\t\t\tsetUser(data);\r\n\t\t\t\t\tfetchPosts();\r\n\t\t\t\t\tfetchFollowers();\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch(err => console.error(err))\r\n\t\t\t.finally(() => setDataFetched(true));\r\n\t});\r\n\r\n\tif (dataFetched)\r\n\t\tif (isAuthenticated) {\r\n\t\t\treturn (\r\n\t\t\t\t<Container>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t{user ? (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<h1 className='text-center text-primary'>\r\n\t\t\t\t\t\t\t\t{username}'s Profile\r\n\t\t\t\t\t\t\t</h1>\r\n\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t<Col xs={12} md={4}>\r\n\t\t\t\t\t\t\t\t\t<User user={user} />\r\n\t\t\t\t\t\t\t\t\t{user.id === currentUser.id ? (\r\n\t\t\t\t\t\t\t\t\t\t<Accordion>\r\n\t\t\t\t\t\t\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Card.Header>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Accordion.Toggle\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tas={Button}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant='link'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\teventKey='0'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='text-success'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tFollowers (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{followers.length})\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Accordion.Toggle>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Card.Header>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Accordion.Collapse eventKey='0'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{followers.length ===\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Card.Text className='text-success'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tYou don't have\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tany followers\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Card.Text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup variant='flush'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{followers.map(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfollower => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfollower.id\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taction\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thref={`/users/${follower.username}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='text-success'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfollower.username\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Accordion.Collapse>\r\n\t\t\t\t\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Card.Header>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Accordion.Toggle\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tas={Button}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant='link'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\teventKey='1'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='text-danger'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tFollowing (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{user.follows.length})\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Accordion.Toggle>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Card.Header>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Accordion.Collapse eventKey='1'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{user.follows.length ===\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Card.Text className='text-danger'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tYou don't follow\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tanybody!\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Card.Text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup variant='flush'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{user.follows.map(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfollow => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfollow.id\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taction\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thref={`/users/${follow.username}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='text-danger'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfollow.username\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Accordion.Collapse>\r\n\t\t\t\t\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t\t\t\t</Accordion>\r\n\t\t\t\t\t\t\t\t\t) : currentUser.follows.includes(\r\n\t\t\t\t\t\t\t\t\t\t\tuser.id\r\n\t\t\t\t\t\t\t\t\t  ) ? (\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tvariant='danger'\r\n\t\t\t\t\t\t\t\t\t\t\tblock\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={handleClick}>\r\n\t\t\t\t\t\t\t\t\t\t\tUnfollow\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tvariant='success'\r\n\t\t\t\t\t\t\t\t\t\t\tblock\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={handleClick}>\r\n\t\t\t\t\t\t\t\t\t\t\tFollow\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\tvariant='info'\r\n\t\t\t\t\t\t\t\t\t\tblock\r\n\t\t\t\t\t\t\t\t\t\thref={`/mentions/${username}`}>\r\n\t\t\t\t\t\t\t\t\t\tMentions of {username}\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t<Col xs={12} md={8}>\r\n\t\t\t\t\t\t\t\t\t<h2 className='text-center text-warning'>\r\n\t\t\t\t\t\t\t\t\t\tPosts ({posts.length})\r\n\t\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t\t\t{posts.length === 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t<h3 className='text-center text-info'>\r\n\t\t\t\t\t\t\t\t\t\t\t{username} doesn't have any posts!\r\n\t\t\t\t\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t\t{posts.map(post => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Post\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={post.id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tpost={post}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfetchPosts={fetchPosts}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<h1 className='text-center text-danger'>\r\n\t\t\t\t\t\t\t\tUser {username} does not exist!\r\n\t\t\t\t\t\t\t</h1>\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<br />\r\n\t\t\t\t</Container>\r\n\t\t\t);\r\n\t\t} else return <Redirect to='/' />;\r\n\telse\r\n\t\treturn (\r\n\t\t\t<div className='d-flex justify-content-center'>\r\n\t\t\t\t<Spinner animation='border' variant='primary' />\r\n\t\t\t</div>\r\n\t\t);\r\n};\r\n\r\nexport default Profile;\r\n","import React, { useContext, useEffect, useState } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport Spinner from 'react-bootstrap/Spinner';\r\nimport Container from 'react-bootstrap/Container';\r\nimport { AuthContext } from '../../contexts/AuthContext';\r\nimport Post from '../misc/Post';\r\n\r\nconst Mention = ({ match }) => {\r\n\tconst { mention } = match.params;\r\n\tconst { isAuthenticated } = useContext(AuthContext);\r\n\tconst [dataFetched, setDataFetched] = useState(false);\r\n\tconst [userExists, setUserExists] = useState(true);\r\n\tconst [posts, setPosts] = useState([]);\r\n\r\n\tconst fetchPosts = () => {\r\n\t\tfetch(`/api/posts/mentions/${mention}`)\r\n\t\t\t.then(res => res.json())\r\n\t\t\t.then(data => {\r\n\t\t\t\tif (data.error) setUserExists(false);\r\n\t\t\t\telse setPosts(data);\r\n\t\t\t})\r\n\t\t\t.catch(err => console.error(err))\r\n\t\t\t.finally(() => setDataFetched(true));\r\n\t};\r\n\r\n\tuseEffect(fetchPosts);\r\n\r\n\tif (dataFetched)\r\n\t\tif (isAuthenticated)\r\n\t\t\treturn (\r\n\t\t\t\t<Container>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t{userExists ? (\r\n\t\t\t\t\t\tposts.length > 0 ? (\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t<h1 className='text-center text-primary'>\r\n\t\t\t\t\t\t\t\t\tMentions of {mention}\r\n\t\t\t\t\t\t\t\t</h1>\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t{posts.map(post => (\r\n\t\t\t\t\t\t\t\t\t<Post\r\n\t\t\t\t\t\t\t\t\t\tkey={post.id}\r\n\t\t\t\t\t\t\t\t\t\tpost={post}\r\n\t\t\t\t\t\t\t\t\t\tfetchPosts={fetchPosts}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<h1 className='text-center text-danger'>\r\n\t\t\t\t\t\t\t\t{mention} hasn't been mentioned in any posts!\r\n\t\t\t\t\t\t\t</h1>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<h1 className='text-center text-danger'>\r\n\t\t\t\t\t\t\tUser {mention} does not exist!\r\n\t\t\t\t\t\t</h1>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<br />\r\n\t\t\t\t</Container>\r\n\t\t\t);\r\n\t\telse return <Redirect to='/' />;\r\n\telse\r\n\t\treturn (\r\n\t\t\t<div className='d-flex justify-content-center'>\r\n\t\t\t\t<Spinner animation='border' variant='primary' />\r\n\t\t\t</div>\r\n\t\t);\r\n};\r\n\r\nexport default Mention;\r\n","import React, { useContext, useEffect, useState } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport Spinner from 'react-bootstrap/Spinner';\r\nimport Container from 'react-bootstrap/Container';\r\nimport { AuthContext } from '../../contexts/AuthContext';\r\nimport Post from '../misc/Post';\r\n\r\nconst Hashtag = ({ match }) => {\r\n\tconst { hashtag } = match.params;\r\n\tconst { isAuthenticated } = useContext(AuthContext);\r\n\tconst [dataFetched, setDataFetched] = useState(false);\r\n\tconst [posts, setPosts] = useState([]);\r\n\r\n\tconst fetchPosts = () => {\r\n\t\tfetch(`/api/posts/hashtags/${hashtag}`)\r\n\t\t\t.then(res => res.json())\r\n\t\t\t.then(data => setPosts(data))\r\n\t\t\t.catch(err => console.error(err))\r\n\t\t\t.finally(() => setDataFetched(true));\r\n\t};\r\n\r\n\tuseEffect(fetchPosts);\r\n\r\n\tif (dataFetched)\r\n\t\tif (isAuthenticated)\r\n\t\t\treturn (\r\n\t\t\t\t<Container>\r\n\t\t\t\t\t{posts.length > 0 ? (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t<h1 className='text-center text-primary'>\r\n\t\t\t\t\t\t\t\tPosts with hashtag #{hashtag}\r\n\t\t\t\t\t\t\t</h1>\r\n\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t{posts.map(post => (\r\n\t\t\t\t\t\t\t\t<Post\r\n\t\t\t\t\t\t\t\t\tkey={post.id}\r\n\t\t\t\t\t\t\t\t\tpost={post}\r\n\t\t\t\t\t\t\t\t\tfetchPosts={fetchPosts}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t<h1 className='text-center text-danger'>\r\n\t\t\t\t\t\t\t\tNo posts with hashtag #{hashtag} exist!\r\n\t\t\t\t\t\t\t</h1>\r\n\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Container>\r\n\t\t\t);\r\n\t\telse return <Redirect to='/' />;\r\n\telse\r\n\t\treturn (\r\n\t\t\t<div className='d-flex justify-content-center'>\r\n\t\t\t\t<Spinner animation='border' variant='primary' />\r\n\t\t\t</div>\r\n\t\t);\r\n};\r\n\r\nexport default Hashtag;\r\n","import React from 'react';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\nimport Navbar from './components/layout/NavBar';\nimport SignupModal from './components/auth/SignupModal';\nimport LoginModal from './components/auth/LoginModal';\nimport LogoutModal from './components/auth/LogoutModal';\nimport EditModal from './components/misc/EditModal';\nimport DeleteModal from './components/misc/DeleteModal';\nimport { AuthContextProvider } from './contexts/AuthContext';\nimport { ModalContextProvider } from './contexts/ModalContext';\nimport { UserContextProvider } from './contexts/UserContext';\nimport Home from './components/routes/Home';\nimport Users from './components/routes/Users';\nimport Profile from './components/routes/Profile';\nimport Mention from './components/routes/Mention';\nimport Hashtag from './components/routes/Hashtag';\n\nconst App = () => (\n\t<AuthContextProvider>\n\t\t<ModalContextProvider>\n\t\t\t<UserContextProvider>\n\t\t\t\t<Router>\n\t\t\t\t\t<SignupModal />\n\t\t\t\t\t<LoginModal />\n\t\t\t\t\t<LogoutModal />\n\t\t\t\t\t<EditModal />\n\t\t\t\t\t<DeleteModal />\n\t\t\t\t\t<Navbar />\n\t\t\t\t\t<Switch>\n\t\t\t\t\t\t<Route exact path='/' component={Home} />\n\t\t\t\t\t\t<Route exact path='/users' component={Users} />\n\t\t\t\t\t\t<Route path='/users/:username' component={Profile} />\n\t\t\t\t\t\t<Route path='/mentions/:mention' component={Mention} />\n\t\t\t\t\t\t<Route path='/hashtags/:hashtag' component={Hashtag} />\n\t\t\t\t\t</Switch>\n\t\t\t\t</Router>\n\t\t\t</UserContextProvider>\n\t\t</ModalContextProvider>\n\t</AuthContextProvider>\n);\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}